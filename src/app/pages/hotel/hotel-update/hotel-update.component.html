<section id="hotel-update">
  <div class="row">
    <div class="col-sm-12">
      <div class="card" *ngIf="!loading">
        <div class="card-header">
          <div class="row">
            <div class="col-sm-6">
              <h4 class="card-title">Hotel aanpassen</h4>
            </div>
            <div class="col-sm-6">
              <a class="btn btn-raised btn-grey float-sm-right" (click)="back()">
                Terug
              </a>
            </div>
          </div>
        </div>
        <div class="card-body" *ngIf="loaded">
          <div class="card-block">
            <form [formGroup]="hotelUpdateForm" (ngSubmit)="updateHotel()">
              <div class="form-group">
                <label>#Id</label>
                <input type="text" name="id" formControlName="id" class="form-control">
              </div>
              <div class="form-group">
                <label>Naam</label>
                <input type="text" name="name" formControlName="name" class="form-control">
              </div>
              <div class="form-group">
                <label>Omschrijving</label>
                <input type="text" name="description" formControlName="description" class="form-control" >
              </div>
              <div class="form-group">
                <label>Prijs</label>
                <input type="text" name="price" formControlName="price" class="form-control" >
              </div>
              <div class="form-group">
                <label>Afbeelding</label>
                <app-drop-zone [srcUrl]="hotel.imageBlob" (imageBlob)="updateImageBlob($event)"></app-drop-zone>
                <input type="text" name="imageBlob" formControlName="imageBlob" class="form-control" [hidden]="true">
              </div>
              <div class="form-group">
                <label>Besckikbaar van</label>
                <input class="form-control m-1" data-placement="top" data-title="Date Opened" data-toggle="tooltip"
                       data-trigger="hover" name="dateFrom" type="date" formControlName="availableFrom" [valueAsDate]="hotel.availableFrom" >
              </div>
              <div class="form-group">
                <label>Besckikbaar tot</label>
                <input class="form-control m-1" data-placement="top" data-title="Date Opened" data-toggle="tooltip"
                       data-trigger="hover" name="dateFrom" type="date" formControlName="availableTo" [valueAsDate]="hotel.availableTo" >
              </div>

              <div [formGroup]="addressForm">
                <div class="form-group">
                  <label>Straat en huisnummer</label>
                  <input type="text" name="addressline" formControlName="addressLine" class="form-control">
                </div>
                <div class="form-group">
                  <label>Postcode</label>
                  <input type="text" name="zipcode" formControlName="zipCode" class="form-control">
                </div>
                <div [formGroup]="cityForm">
                  <div class="form-group">
                    <label>Stad</label>
                    <ng-select placeholder="Stad" [items]="cities" bindValue="name" (change)="getCountry($event)"
                               formControlName="name" [clearable]="true" class="m-1" bindLabel="name">
                    </ng-select>
                  </div>
                </div>
                <div [formGroup]="countryForm">
                  <div class="form-group">
                    <label>Land</label>
                    <ng-select placeholder="land" [items]="countries"
                               formControlName="name" [clearable]="true" class="m-1" bindLabel="name"
                               (change)="getCities($event)" (clear)="clearCountryAndCity()">
                    </ng-select>
                  </div>
                </div>
              </div>
              <div class="form-actions">
                <div class="row">
                  <div class="col-12">
                    <button type="submit" class="btn btn-primary" [disabled]="!hotelUpdateForm.valid">
                      <span>Hotel opslaan</span>
                      <i *ngIf="loading" class="ft-loader spinner right"></i>
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

