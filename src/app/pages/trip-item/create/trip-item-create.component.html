<section id="trip-item-create">
  <div class="row">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-sm-6">
              <h4 class="card-title">Trips-Items aanmaken</h4>
            </div>
            <div class="col-sm-6">
              <a class="btn btn-raised btn-grey float-sm-right" (click)="back()">
                Terug
              </a>
            </div>
          </div>
        </div>
        <div class="card-body">
<!--          {{tripItemCreateForm.value | json}}-->
          <div class="card-block">
            <form [formGroup]="tripItemCreateForm">
            <ngb-tabset>
              <ngb-tab title="Gegevens TripItem">
                <ng-template ngbTabContent>
                  <div class="form-group">
                    <label>Naam</label>
                    <input type="text" name="name" formControlName="name" autocomplete="off"  class="form-control">
                  </div>
                  <div class="form-group">
                    <label>Omschrijving</label>
                    <input type="text" name="description" formControlName="description" autocomplete="off"  class="form-control">
                  </div>
                  <div class="form-group">
                    <label>Prijs</label>
                    <input type="number" name="price" formControlName="price" autocomplete="off"  class="form-control">
                  </div>
                  <div class="form-group">
                    <label>Minimaal deelnemers</label>
                    <input type="number" name="minimumNumberOfAttendees" formControlName="minimumNumberOfAttendees" class="form-control">
                  </div>
                  <div class="form-group">
                    <label>Maximaal deelnemers</label>
                    <input type="number" name="maximumNumberOfAttendees" formControlName="maximumNumberOfAttendees" class="form-control">
                  </div>
                  <div class="form-group">
                    <label>Aantal deelnemers</label>
                    <input type="number" name="numberOfAttendees" formControlName="numberOfAttendees" class="form-control">
                  </div>
                  <div class="form-group">
                    <label>Foto</label>
                    <app-drop-zone [srcUrl]="tripItem.imageBlob" (imageBlob)="updateImageBlob($event)" ></app-drop-zone>
                  </div>
                  <div class="form-group">
                    <label>Type</label>
                    <ng-select [items]="tripItemTypes"
                               formControlName="tripItemType"
                               bindValue="name"
                               bindLabel="name"
                               [multiple]="false"
                               >
                    </ng-select>
                  </div>
                  <div class="form-group">
                    <label>Datum</label>
                    <input type="date" name="date" formControlName="date" autocomplete="off"  class="form-control">
                  </div>
                </ng-template>
              </ngb-tab>
              <ngb-tab>
                <ng-template ngbTabTitle>Adres gegevens</ng-template>
                <ng-template ngbTabContent>
                  <div [formGroup]="addressForm">
                    <div class="form-group">
                      <label>Adres</label>
                      <input type="text" name="addressline" formControlName="addressLine" class="form-control">
                    </div>
                    <div class="form-group">
                      <label>Postcode</label>
                      <input type="text" name="zipcode" formControlName="zipCode" class="form-control">
                    </div>
                    <div [formGroup]="cityForm">
                      <div class="form-group">
                        <label>Stad</label>
                        <ng-select name="city" placeholder="Stad" [items]="cities" bindValue="name"
                                   formControlName="name" [clearable]="true" class="m-1" bindLabel="name">
                        </ng-select>
                      </div>
                    </div>
                    <div [formGroup]="countryForm">
                      <div class="form-group">
                        <label>Land</label>
                        <ng-select name="country" placeholder="land" [items]="countries"
                                   formControlName="name" [clearable]="true" class="m-1" bindLabel="name"
                                   (change)="getCities($event)" (clear)="clearCountryAndCity()">
                        </ng-select>
                      </div>
                    </div>
                  </div>
                </ng-template>
              </ngb-tab>
            </ngb-tabset>
              <div class="form-actions">
                <div class="row">
                  <div class="col-12">
                    <button type="submit" class="btn btn-primary" (click)="submitForm()" [disabled]="!tripItemCreateForm.valid">
                      <span>Trip-item opslaan</span>
                      <i *ngIf="loading" class="ft-loader spinner right"></i>
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
